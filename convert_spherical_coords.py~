from __future__ import division
from math import *
import sys

input_file_name = sys.argv[1]

output_file_name = input_file_name[0:-3] + "converted.asc"

output_file = open(output_file_name, 'w')

with open(input_file_name, 'r') as input_file:
    #skip the header lines
    next(input_file)
    next(input_file)

    #process the relevant lines and save
    #the new coordinates in output_file
    for line in input_file:

        #convert to spherical coords
        line = line.split()
        x = float(line[0])
        y = float(line[1])
        z = float(line[2])

        #if this is an integer we are no longer
        #looking at vertices, but faces
        if(round(x) == x):
            exit()

        
        theta = acos(z/sqrt(x**2 + y**2 + z**2))
        phi = atan(y/x)

        #write coordinates to output file
        output_file.write(str(theta) + " ")
        output_file.write(str(phi) + "\n")

print("All coordinates converted and saved in " + output_file_name)
